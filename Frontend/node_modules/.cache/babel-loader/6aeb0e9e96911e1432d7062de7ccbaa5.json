{"ast":null,"code":"var _jsxFileName = \"/Users/rakshithasathyakumar/Desktop/yelp-app/Frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios'; // import { connect } from 'react-redux';\n// import { userLogin } from '../actions/loginAction'\n\nimport yelpLoginImage from './images/yelp_logo.jpg'; //import { Row, Col } from 'react-bootstrap';\n\nclass Login extends Component {\n  //call the constructor method\n  constructor(props) {\n    //Call the constrictor of Super class i.e The Component\n    super(props); //maintain the state required for this component\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      return axios.post('http://localhost:3001/', data).then(response => {\n        console.log(response);\n\n        if (response.data.email && response.data.password) {\n          console.log(\"Login successful\");\n        }\n\n        if (response.data === \"NO_USER\") {\n          console.log(\"Enter a valid email\");\n        }\n\n        if (response.data === \"INCORRECT_PASSWORD\") {\n          console.log(\"Enter the right password\");\n        }\n      });\n    };\n\n    this.state = {\n      loginFlag: \"\"\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    let redirectVar = null;\n    let message = \"\"; // if(this.props.user && this.props.user.user_id){\n    //     localStorage.setItem(\"email_id\", this.props.user.email_id);\n    //     localStorage.setItem(\"is_owner\", this.props.user.is_owner);\n    //     localStorage.setItem(\"user_id\", this.props.user.user_id);\n    //     localStorage.setItem(\"name\", this.props.user.name);\n    //     redirectVar = <Redirect to=\"/home\" />\n    // }\n\n    if (this.props.user === \"NO_USER\" && this.state.loginFlag) {\n      message = \"No user with this email id\";\n    } else if (this.props.user === \"INCORRECT_PASSWORD\" && this.state.loginFlag) {\n      message = \"Incorrect Password\";\n    }\n\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: yelpLoginImage,\n      style: {\n        height: 'fit-content'\n      },\n      alt: \"Yelp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container-fluid\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        marginBottom: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, \" Sign in to Yelp\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, \"New to Yelp? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/customerSignup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 55\n      }\n    }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      name: \"email\",\n      class: \"form-control\",\n      id: \"inputEmail\",\n      placeholder: \"Email ID\",\n      pattern: \"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$'%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])$\",\n      title: \"Please enter valid email address\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.onChange,\n      name: \"password\",\n      class: \"form-control\",\n      id: \"inputEmail\",\n      placeholder: \"password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 49\n      }\n    }), \" Remember me\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-danger btn-block\",\n      style: {\n        marginTop: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 41\n      }\n    }, \" Sign In \"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    })))));\n  }\n\n}\n\nexport default Login; // export default connect(mapStateToProps, { userLogin })(Login);","map":{"version":3,"sources":["/Users/rakshithasathyakumar/Desktop/yelp-app/Frontend/src/components/Login.js"],"names":["React","Component","Redirect","Link","PropTypes","axios","yelpLoginImage","Login","constructor","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","data","email","state","password","post","then","response","console","log","loginFlag","render","redirectVar","message","user","marginTop","height","color","marginBottom","padding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n// import { connect } from 'react-redux';\n// import { userLogin } from '../actions/loginAction'\nimport yelpLoginImage from './images/yelp_logo.jpg';\n//import { Row, Col } from 'react-bootstrap';\n\nclass Login extends Component {\n    //call the constructor method\n    constructor(props) {\n        //Call the constrictor of Super class i.e The Component\n        super(props);\n        //maintain the state required for this component\n        this.state = {\n            loginFlag: \"\"\n        };\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    //submit Login handler to send a request to the node backend\n    onSubmit = (e) => {\n        e.preventDefault();\n        const data = {\n            email: this.state.email,\n            password: this.state.password\n        }\n        return axios.post('http://localhost:3001/',data)\n        .then((response) => {\n            console.log(response);\n            if (response.data.email && response.data.password) {\n                console.log(\"Login successful\")\n            } \n            if (response.data === \"NO_USER\") {\n                console.log(\"Enter a valid email\")\n            } \n            if(response.data === \"INCORRECT_PASSWORD\")\n            {\n                console.log(\"Enter the right password\")\n            }\n           })\n    }\n    render() {\n        console.log(this.props);\n        let redirectVar = null;\n        let message = \"\"\n        // if(this.props.user && this.props.user.user_id){\n        //     localStorage.setItem(\"email_id\", this.props.user.email_id);\n        //     localStorage.setItem(\"is_owner\", this.props.user.is_owner);\n        //     localStorage.setItem(\"user_id\", this.props.user.user_id);\n        //     localStorage.setItem(\"name\", this.props.user.name);\n        //     redirectVar = <Redirect to=\"/home\" />\n        // }\n        if(this.props.user === \"NO_USER\" && this.state.loginFlag){\n            message = \"No user with this email id\";\n        }\n        else if(this.props.user === \"INCORRECT_PASSWORD\" && this.state.loginFlag){\n            message = \"Incorrect Password\";\n        }\n        console.log(this.props);\n        return (\n            <div class='container' style={{marginTop: \"30px\"}}>\n                <div class='form-container'>\n                <center>\n                <img src={yelpLoginImage} style={{ height: 'fit-content' }} alt='Yelp' />\n                </center>\n                    <div class='container-fluid' style={{marginTop: \"30px\"}}>\n                        <div class='row'>\n                            <div class='col-md-4 col-sm-4 col-xs-12'></div>\n                            <div class='col-md-4 col-sm-4 col-xs-12'>\n                                <center>\n                                    <h3 style={{color: \"red\", marginBottom: \"20px\"}}> Sign in to Yelp</h3>\n                                    <div>New to Yelp? <Link to='/customerSignup'>Sign Up</Link></div>\n                                    <div style={{padding: \"5px\"}}></div>\n                                </center>\n                                    <form onSubmit={this.onSubmit}>\n                                        <div class='form-group'>\n                                            <input type='text' onChange={this.onChange} name='email' class='form-control' id='inputEmail' placeholder='Email ID' pattern=\"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$'%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])$\" title=\"Please enter valid email address\" required/>\n                                        </div>\n                                        <div class='form-group'>\n                                            <input type='password' onChange={this.onChange} name='password' class='form-control' id='inputEmail' placeholder='password' required/>\n                                        </div>\n                                        <div class=\"checkbox\">\n                                            <label>\n                                                <input type='checkbox'/> Remember me\n                                            </label>\n                                        </div>\n                                        <button type='submit' class='btn btn-danger btn-block' style={{marginTop:\"10px\"}}> Sign In </button>\n                                    </form>\n                                </div>\n                                <div class='col-md-4 col-sm-4 col-xs-12'></div>\n                        </div>\n                    </div> \n            </div>  \n        </div>\n        )\n    }\n}\n\nexport default Login;\n// export default connect(mapStateToProps, { userLogin })(Login);"]},"metadata":{},"sourceType":"module"}
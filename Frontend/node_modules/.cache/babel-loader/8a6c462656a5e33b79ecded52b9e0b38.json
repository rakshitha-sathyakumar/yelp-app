{"ast":null,"code":"import { GET_USER, UPDATE_USER } from \"./types\";\nimport axios from \"axios\";\nexport const getUser = () => dispatch => {\n  axios.get(`http://localhost:3001/yelp/userProfile/${localStorage.getItem(\"user_id\")}`).then(response => response.data[0]).then(customer => dispatch({\n    type: GET_USER,\n    payload: customer\n  })).catch(error => {\n    console.log(error);\n  });\n};\nexport const updateUser = userProfileData => dispatch => {\n  axios.defaults.withCredentials = true;\n  axios.post(`http://localhost:3001/yelp/userProfile`, userProfileData).then(response => response.data).then(data => {\n    if (data === 'CUSTOMER_UPDATED') {\n      localStorage.setItem(\"first_name\", userProfileData.first_name);\n      localStorage.setItem(\"last_name\", userProfileData.last_name);\n      alert(\"Profile Updated Successfully!\");\n    }\n\n    return dispatch({\n      type: UPDATE_USER,\n      payload: data\n    });\n  }).catch(error => {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["/Users/rakshithasathyakumar/Desktop/yelp-app/Frontend/src/actions/userProfileAction.js"],"names":["GET_USER","UPDATE_USER","axios","getUser","dispatch","get","localStorage","getItem","then","response","data","customer","type","payload","catch","error","console","log","updateUser","userProfileData","defaults","withCredentials","post","setItem","first_name","last_name","alert"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,SAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAMC,QAAQ,IAAI;AACrCF,EAAAA,KAAK,CAACG,GAAN,CAAW,0CAAyCC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgC,EAApF,EACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,CAAc,CAAd,CADtB,EAEKF,IAFL,CAEUG,QAAQ,IAAIP,QAAQ,CAAC;AACvBQ,IAAAA,IAAI,EAAEZ,QADiB;AAEvBa,IAAAA,OAAO,EAAEF;AAFc,GAAD,CAF9B,EAMKG,KANL,CAMWC,KAAK,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,GARL;AASH,CAVM;AAYP,OAAO,MAAMG,UAAU,GAAIC,eAAD,IAAqBf,QAAQ,IAAI;AACvDF,EAAAA,KAAK,CAACkB,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAnB,EAAAA,KAAK,CAACoB,IAAN,CAAY,wCAAZ,EAAqDH,eAArD,EACKX,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAD/B,EAEKF,IAFL,CAEUE,IAAI,IAAI;AACV,QAAIA,IAAI,KAAK,kBAAb,EAAiC;AAC7BJ,MAAAA,YAAY,CAACiB,OAAb,CAAqB,YAArB,EAAmCJ,eAAe,CAACK,UAAnD;AACAlB,MAAAA,YAAY,CAACiB,OAAb,CAAqB,WAArB,EAAmCJ,eAAe,CAACM,SAAnD;AACAC,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACH;;AACD,WAAOtB,QAAQ,CAAC;AACZQ,MAAAA,IAAI,EAAEX,WADM;AAEZY,MAAAA,OAAO,EAAEH;AAFG,KAAD,CAAf;AAIH,GAZL,EAaKI,KAbL,CAaWC,KAAK,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,GAfL;AAgBH,CAlBM","sourcesContent":["import { GET_USER, UPDATE_USER } from \"./types\";\nimport axios from \"axios\";\n\nexport const getUser = () => dispatch => {\n    axios.get(`http://localhost:3001/yelp/userProfile/${localStorage.getItem(\"user_id\")}`)\n        .then(response => response.data[0])\n        .then(customer => dispatch({\n            type: GET_USER,\n            payload: customer\n        }))\n        .catch(error => {\n            console.log(error);\n        });\n}\n\nexport const updateUser = (userProfileData) => dispatch => {\n    axios.defaults.withCredentials = true;\n    axios.post(`http://localhost:3001/yelp/userProfile`, userProfileData)\n        .then(response => response.data)\n        .then(data => {\n            if (data === 'CUSTOMER_UPDATED') {\n                localStorage.setItem(\"first_name\", userProfileData.first_name);\n                localStorage.setItem(\"last_name\",  userProfileData.last_name )\n                alert(\"Profile Updated Successfully!\");\n            }\n            return dispatch({\n                type: UPDATE_USER,\n                payload: data\n            })\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}"]},"metadata":{},"sourceType":"module"}